#include <iostream>
#include <string.h>
#include <iterator>
#include <set>

using namespace std;

int main()
{
	setlocale (LC_ALL, "rus");
	
	set <char> s;	
	set <char> d;
	int player1=0, player2=0;	//переменные для подсчёта результатов
	const int max = 10;			//размер контейнеров
	char symbol; 
	set <char>::iterator it;	//итератор
	
		//правила игры (вступление)
	cout << "\t Добро пожаловать в игру!\n" << endl << "Правила игры: \n" << endl << "В игре принимают участие два игрока." <<endl;
	cout << "Первый последовательно вводит 10 букв латинского алфавита." << endl;
	cout << "Второй пытается угадать то, что ввел его соперник, и вводит свои 10 символов." << endl; 
	cout << "Игра состоит из двух раундов, после первого раунда игроки меняются местами и буквы вводит второй игрок, а первый пытается угадать." << endl;
	cout << "Побеждает игрок, сумевший угадать больше букв." << endl;
		
		//начало игры 
	char n;
	cout << endl << "Нажмите любую кнопку и Enter, чтобы начать игру." << endl;
	cin >> n;
	system ("cls");     //очищает консоль 
		
		//первый раунд 
	cout << "\t Round 1:\n" << endl;
	cout << "Игрок 1, убедитесь, что ваш соперник не видит ваших действий и введите " << max << " уникальных(неповторяющихся) букв латинского алфввита:\n" << endl;
		
		//первый игрок вводит свои 10 символов 
		for (int i=0; i<max; i++)
		{
			cin >> symbol;
		
				if (s.find(symbol) == s.end())
					s.insert(symbol);		
				else
				{
					cout << "Вы ввели неверное значение, попробуйте снова: " << endl;
					i--;
				}
		}
		
	cout << "Вы сделали свой ход, спасибо. Теперь нажмите любую клавишу и Enter, чтобы передать ход сопернику:" << endl;
	cin >> n; 
	system ("cls");
	
	cout << "Игрок 2, попробуйте угадать то, что ввёл ваш соперник:" << endl << endl;
		//второй игрок угадывает то, что ввёл первый игрок и записывает 10 символов в другой контейнер, которые потом сравниваются 
		for (int i=0; i<max; i++)
		{
			cin >> symbol;
				if (d.find(symbol) == d.end())
					d.insert(symbol);		
				else
				{
					cout << "Вы ввели неверное значение, попробуйте снова: " << endl;
					i--;
				}
		}
		
	cout << "Вы сделали свой ход, спасибо. Теперь нажмите любую клавишу и Enter, чтобы перейти ко второму раунду:" << endl;
	cin >> n; 
	system ("cls");
	
	cout << "Игроки, поменяйтесь местами и нажмите любую клавишу и Enter, чтобы начать второй раунд:" << endl;
	cin >> n; 
	system ("cls");
	
		//сравнение двух кантейнеров через итератор
		
		for(it = s.begin(); it != s.end(); it++)
		{
			if(d.find(*it) == d.end())
			{
				player2 = player2;
			}
			else
			{
				player2++;
			}
		}
	
	s.clear();
	d.clear();
	
		//второй раунд
	cout << "\t Round 2:\n" << endl;
	cout << "Игрок 2, убедитесь, что ваш соперник не видит ваших действий и введите " << max << " уникальных(неповторяющихся) букв латинского алфввита:\n" << endl;
	
		for (int i=0; i<max; i++)
		{
			cin >> symbol;
				if (s.find(symbol) == s.end())
					s.insert(symbol);		
				else
				{
					cout << "Вы ввели неверное значение, попробуйте снова: " << endl;
					i--;
				}
		}
		
	cout << "Вы сделали свой ход, спасибо. Теперь нажмите любую клавишу и Enter, чтобы передать ход сопернику:" << endl;
	cin >> n; 
	system ("cls");
	
	cout << "Игрок 1, попробуйте угадать то, что ввёл ваш соперник:" << endl << endl;
		
		for (int i=0; i<max; i++)
		{
			cin >> symbol;
				if (d.find(symbol) == d.end())
					d.insert(symbol);		
				else
				{
					cout << "Вы ввели неверное значение, попробуйте снова: " << endl;
					i--;
				}
		}
		
	cout << "Вы сделали свой ход, спасибо. Теперь нажмите любую клавишу и Enter, чтобы узнать результаты игры:" << endl;
	cin >> n; 
	system ("cls");
	
		for(it = s.begin(); it != s.end(); it++)
		{
			if(d.find(*it) == d.end())
			{
				player1 = player1;
			}
			else
			{
				player1++;
			}
		}
	//итоги игры
	cout << "Результаты игры:" << endl << "Игрок 1 набрал: " << player1 << " очков.\n" << endl;
	cout  << "Игрок 2 набрал: " << player2 << " очков." << endl;
	if (player1>player2)
	cout <<"\nПобеду одержал игрок 1! Поздравляем!";
	else if(player1<player2)
	cout << "\nПобеду одержал игрок 2! Поздравляем!";
	else 
	cout <<  "\nНичья. Победила дружба..";
	
return 0;
}
